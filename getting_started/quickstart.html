
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quickstart &#8212; SDV 0.4.1 documentation</title>
    
  <link rel="stylesheet" href="../_static/css/index.d431a4ee1c1efae0e38bdfebc22debff.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
  <link rel="preload" as="script" href="../_static/js/index.30270b6e4c972e43c488.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="shortcut icon" href="../_static/SDV-Logo-Black.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="User Guides" href="../user_guides/index.html" />
    <link rel="prev" title="Installation" href="install.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    
    <a class="navbar-brand" href="../index.html">
      <img src="../_static/SDV-Logo-Color.png" class="logo" alt="logo">
    </a>
    
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item active">
            <a class="nav-link" href="index.html">Getting Started</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../user_guides/index.html">User Guides</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../api_reference/index.html">API Reference</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../developer_guides/index.html">Developer Guides</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../history.html">Release Notes</a>
        </li>
        
        
      </ul>


      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/sdv-dev/SDV" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar">

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>


<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

  <div class="bd-toc-item active">
  

  <ul class="nav bd-sidenav">
      
      
        
          
              <li class="">
                  <a href="install.html">Installation</a>
              </li>
          
        
          
              <li class="active">
                  <a href="">Quickstart</a>
              </li>
          
        
      
      
      
      
      
      
      
      
      
      
    </ul>

</nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#model-the-dataset-using-sdv" class="nav-link">Model the dataset using SDV</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#load-example-data" class="nav-link">Load example data</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#fit-a-model-using-the-sdv-api" class="nav-link">Fit a model using the SDV API.</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#sample-data-from-the-fitted-model" class="nav-link">Sample data from the fitted model</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#saving-and-loading-your-model" class="nav-link">Saving and Loading your model</a>
        </li>
    
    </ul>
</nav>


              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="quickstart">
<span id="id1"></span><h1>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h1>
<p>In this short tutorial we will guide you through a series of steps that
will help you getting started using <strong>SDV</strong>.</p>
<div class="section" id="model-the-dataset-using-sdv">
<h2>Model the dataset using SDV<a class="headerlink" href="#model-the-dataset-using-sdv" title="Permalink to this headline">¶</a></h2>
<p>To model a multi table, relational dataset, we follow two steps. In the
first step, we will load the data and configures the meta data. In the
second step, we will use the sdv API to fit and save a hierarchical
model. We will cover these two steps in this section using an example
dataset.</p>
<div class="section" id="load-example-data">
<h3>Load example data<a class="headerlink" href="#load-example-data" title="Permalink to this headline">¶</a></h3>
<p><strong>SDV</strong> comes with a toy dataset to play with, which can be loaded using
the <code class="docutils literal notranslate"><span class="pre">sdv.load_demo</span></code> function:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">sdv</span> <span class="kn">import</span> <span class="n">load_demo</span>

<span class="gp">In [2]: </span><span class="n">metadata</span><span class="p">,</span> <span class="n">tables</span> <span class="o">=</span> <span class="n">load_demo</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>This will return two objects:</p>
<ol class="arabic simple">
<li><p>A <code class="docutils literal notranslate"><span class="pre">Metadata</span></code> object with all the information that <strong>SDV</strong> needs to
know about the dataset.</p></li>
</ol>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">metadata</span>
<span class="gh">Out[3]: </span><span class="go"></span>
<span class="go">Metadata</span>
<span class="go">  root_path: .</span>
<span class="go">  tables: [&#39;users&#39;, &#39;sessions&#39;, &#39;transactions&#39;]</span>
<span class="go">  relationships:</span>
<span class="go">    sessions.user_id -&gt; users.user_id</span>
<span class="go">    transactions.session_id -&gt; sessions.session_id</span>


<span class="gp">In [4]: </span><span class="n">metadata</span><span class="o">.</span><span class="n">visualize</span><span class="p">();</span>
</pre></div>
</div>
<img alt="images/quickstart_1.png" src="images/quickstart_1.png" />
<p>For more details about how to build the <code class="docutils literal notranslate"><span class="pre">Metadata</span></code> for your own
dataset, please refer to the <a class="reference internal" href="../user_guides/relational/relational_metadata.html#relational-metadata"><span class="std std-ref">Relational Metadata</span></a> guide.</p>
<ol class="arabic simple" start="2">
<li><p>A dictionary containing three <code class="docutils literal notranslate"><span class="pre">pandas.DataFrames</span></code> with the tables
described in the metadata object.</p></li>
</ol>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">tables</span>
<span class="gh">Out[5]: </span><span class="go"></span>
<span class="go">{&#39;users&#39;:    user_id country gender  age</span>
<span class="go"> 0        0      US      M   34</span>
<span class="go"> 1        1      UK      F   23</span>
<span class="go"> 2        2      ES   None   44</span>
<span class="go"> 3        3      UK      M   22</span>
<span class="go"> 4        4      US      F   54</span>
<span class="go"> 5        5      DE      M   57</span>
<span class="go"> 6        6      BG      F   45</span>
<span class="go"> 7        7      ES   None   41</span>
<span class="go"> 8        8      FR      F   23</span>
<span class="go"> 9        9      UK   None   30,</span>
<span class="go"> &#39;sessions&#39;:    session_id  user_id  device       os</span>
<span class="go"> 0           0        0  mobile  android</span>
<span class="go"> 1           1        1  tablet      ios</span>
<span class="go"> 2           2        1  tablet  android</span>
<span class="go"> 3           3        2  mobile  android</span>
<span class="go"> 4           4        4  mobile      ios</span>
<span class="go"> 5           5        5  mobile  android</span>
<span class="go"> 6           6        6  mobile      ios</span>
<span class="go"> 7           7        6  tablet      ios</span>
<span class="go"> 8           8        6  mobile      ios</span>
<span class="go"> 9           9        8  tablet      ios,</span>
<span class="go"> &#39;transactions&#39;:    transaction_id  session_id           timestamp  amount  approved</span>
<span class="go"> 0               0           0 2019-01-01 12:34:32   100.0      True</span>
<span class="go"> 1               1           0 2019-01-01 12:42:21    55.3      True</span>
<span class="go"> 2               2           1 2019-01-07 17:23:11    79.5      True</span>
<span class="go"> 3               3           3 2019-01-10 11:08:57   112.1     False</span>
<span class="go"> 4               4           5 2019-01-10 21:54:08   110.0     False</span>
<span class="go"> 5               5           5 2019-01-11 11:21:20    76.3      True</span>
<span class="go"> 6               6           7 2019-01-22 14:44:10    89.5      True</span>
<span class="go"> 7               7           8 2019-01-23 10:14:09   132.1     False</span>
<span class="go"> 8               8           9 2019-01-27 16:09:17    68.0      True</span>
<span class="go"> 9               9           9 2019-01-29 12:10:48    99.9      True}</span>
</pre></div>
</div>
</div>
<div class="section" id="fit-a-model-using-the-sdv-api">
<h3>Fit a model using the SDV API.<a class="headerlink" href="#fit-a-model-using-the-sdv-api" title="Permalink to this headline">¶</a></h3>
<p>First, we build a hierarchical statistical model of the data using
<strong>SDV</strong>. For this we will create an instance of the <code class="docutils literal notranslate"><span class="pre">sdv.SDV</span></code> class
and use its <code class="docutils literal notranslate"><span class="pre">fit</span></code> method.</p>
<p>During this process, <strong>SDV</strong> will traverse across all the tables in your
dataset following the primary key-foreign key relationships and learn
the probability distributions of the values in the columns.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="kn">from</span> <span class="nn">sdv</span> <span class="kn">import</span> <span class="n">SDV</span>

<span class="gp">In [7]: </span><span class="n">sdv</span> <span class="o">=</span> <span class="n">SDV</span><span class="p">()</span>

<span class="gp">In [8]: </span><span class="n">sdv</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">tables</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="sample-data-from-the-fitted-model">
<h2>Sample data from the fitted model<a class="headerlink" href="#sample-data-from-the-fitted-model" title="Permalink to this headline">¶</a></h2>
<p>Once the modeling has finished you are ready to generate new synthetic
data using the <code class="docutils literal notranslate"><span class="pre">sdv</span></code> instance that you have.</p>
<p>For this, all you have to do is call the <code class="docutils literal notranslate"><span class="pre">sample_all</span></code> method from your
instance passing the number of rows that you want to generate:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">sampled</span> <span class="o">=</span> <span class="n">sdv</span><span class="o">.</span><span class="n">sample_all</span><span class="p">()</span>
</pre></div>
</div>
<p>This will return a dictionary identical to the <code class="docutils literal notranslate"><span class="pre">tables</span></code> one that we
passed to the SDV instance for learning, filled in with new synthetic
data.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only the parent tables of your dataset will have the specified number of rows,
as the number of child rows that each row in the parent table has is also sampled
following the original distribution of your dataset.</p>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [10]: </span><span class="n">sampled</span>
<span class="gh">Out[10]: </span><span class="go"></span>
<span class="go">{&#39;users&#39;:    user_id country gender  age</span>
<span class="go"> 0        0      UK      F   22</span>
<span class="go"> 1        1      US    NaN   25</span>
<span class="go"> 2        2      UK      M   17</span>
<span class="go"> 3        3      UK      M   40</span>
<span class="go"> 4        4      UK      M   43</span>
<span class="go"> 5        5      DE      F   39</span>
<span class="go"> 6        6      ES      M   42</span>
<span class="go"> 7        7      ES      M   50</span>
<span class="go"> 8        8      ES    NaN   44</span>
<span class="go"> 9        9      US      M   23,</span>
<span class="go"> &#39;sessions&#39;:     session_id  user_id  device       os</span>
<span class="go"> 0            0        1  tablet      ios</span>
<span class="go"> 1            1        1  mobile  android</span>
<span class="go"> 2            2        1  tablet      ios</span>
<span class="go"> 3            3        3  mobile  android</span>
<span class="go"> 4            4        4  mobile  android</span>
<span class="go"> 5            5        5  tablet      ios</span>
<span class="go"> 6            6        5  tablet      ios</span>
<span class="go"> 7            7        6  mobile  android</span>
<span class="go"> 8            8        6  tablet      ios</span>
<span class="go"> 9            9        7  tablet      ios</span>
<span class="go"> 10          10        9  mobile  android,</span>
<span class="go"> &#39;transactions&#39;:     transaction_id  session_id  ...      amount  approved</span>
<span class="go"> 0                0           0  ...   82.048730      True</span>
<span class="go"> 1                1           1  ...   82.114084      True</span>
<span class="go"> 2                2           2  ...   82.056663      True</span>
<span class="go"> 3                3           3  ...   91.119057      True</span>
<span class="go"> 4                4           4  ...   85.659212      True</span>
<span class="go"> 5                5           5  ...   84.111783      True</span>
<span class="go"> 6                6           5  ...   67.741845      True</span>
<span class="go"> 7                7           6  ...   78.325721      True</span>
<span class="go"> 8                8           6  ...   67.022572      True</span>
<span class="go"> 9                9           9  ...  101.047608     False</span>
<span class="go"> 10              10          10  ...   93.874148      True</span>
<span class="go"> </span>
<span class="go"> [11 rows x 5 columns]}</span>
</pre></div>
</div>
</div>
<div class="section" id="saving-and-loading-your-model">
<h2>Saving and Loading your model<a class="headerlink" href="#saving-and-loading-your-model" title="Permalink to this headline">¶</a></h2>
<p>In some cases, you might want to save the fitted SDV instance to be able
to generate synthetic data from it later or on a different system.</p>
<p>In order to do so, you can save your fitted <code class="docutils literal notranslate"><span class="pre">SDV</span></code> instance for later
usage using the <code class="docutils literal notranslate"><span class="pre">save</span></code> method of your instance.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">sdv</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;sdv.pkl&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The generated <code class="docutils literal notranslate"><span class="pre">pkl</span></code> file will not include any of the original data in
it, so it can be safely sent to where the synthetic data will be
generated without any privacy concerns.</p>
<p>Later on, in order to sample data from the fitted model, we will first
need to load it from its <code class="docutils literal notranslate"><span class="pre">pkl</span></code> file.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [12]: </span><span class="n">sdv</span> <span class="o">=</span> <span class="n">SDV</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;sdv.pkl&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>After loading the instance, we can sample synthetic data using its
<code class="docutils literal notranslate"><span class="pre">sample_all</span></code> method like before.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [13]: </span><span class="n">sampled</span> <span class="o">=</span> <span class="n">sdv</span><span class="o">.</span><span class="n">sample_all</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="gp">In [14]: </span><span class="n">sampled</span>
<span class="gh">Out[14]: </span><span class="go"></span>
<span class="go">{&#39;users&#39;:    user_id country gender  age</span>
<span class="go"> 0       10      FR      F   64</span>
<span class="go"> 1       11      DE      M   46</span>
<span class="go"> 2       12      FR      M   27</span>
<span class="go"> 3       13      DE      F   59</span>
<span class="go"> 4       14      ES      M   34,</span>
<span class="go"> &#39;sessions&#39;:    session_id  user_id  device       os</span>
<span class="go"> 0          11       10  mobile  android</span>
<span class="go"> 1          12       13  tablet      ios</span>
<span class="go"> 2          13       13  mobile  android</span>
<span class="go"> 3          14       14  mobile  android,</span>
<span class="go"> &#39;transactions&#39;:    transaction_id  session_id  ...      amount  approved</span>
<span class="go"> 0              11          12  ...  257.269360      True</span>
<span class="go"> 1              12          12  ...  778.478577      True</span>
<span class="go"> 2              13          13  ... -340.451875      True</span>
<span class="go"> 3              14          13  ... -178.562161      True</span>
<span class="go"> 4              15          14  ...   84.988664      True</span>
<span class="go"> </span>
<span class="go"> [5 rows x 5 columns]}</span>
</pre></div>
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="install.html" title="previous page">Installation</a>
    <a class='right-next' id="next-link" href="../user_guides/index.html" title="next page">User Guides</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../_static/js/index.30270b6e4c972e43c488.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2018, MIT Data To AI Lab.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.2.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>